(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{53:function(e,t,r){},59:function(e,t,r){"use strict";r.r(t);var c=r(29),a=r.n(c),n=r(19),s=(r(53),r(62)),i=r(9),j=r(4),l=r(12),u=r(0),o=r.n(u),b=r(1),d=r.n(b),O=r(65),p=r(63),x=r(64),h=r(61),f=r(43),m=r(44),v=Object(f.a)({apiKey:"AIzaSyANHqvJ4aDXVJBOjIGI2WeUJsdNVngTTrM",authDomain:"auth-development-824f1.firebaseapp.com",projectId:"auth-development-824f1",storageBucket:"auth-development-824f1.appspot.com",messagingSenderId:"391290395225",appId:"1:391290395225:web:5d5da733f800f7d362af48"}),g=Object(m.a)(v),w=r(26),y=r(3),N=d.a.createContext({currentUser:"",signUp:function(e,t){},login:function(e,t){},logout:function(){},resetPassword:function(e){},updateEmail:function(e){},updatePassword:function(e){}}),S=function(){return Object(b.useContext)(N)},k=function(e){var t=Object(b.useState)(),r=Object(l.a)(t,2),c=r[0],a=r[1],n=Object(b.useState)(!0),s=Object(l.a)(n,2),i=s[0],j=s[1];Object(b.useEffect)((function(){return g.onAuthStateChanged((function(e){a(e),j(!1)}))}),[]);var u={currentUser:c,signUp:function(e,t){return Object(w.a)(g,e,t)},login:function(e,t){return Object(w.d)(g,e,t)},logout:function(){return Object(w.e)(g)},resetPassword:function(e){return Object(w.c)(g,e)},updateEmail:function(e){return Object(w.f)(g.currentUser,e)},updatePassword:function(e){return Object(w.g)(g.currentUser,e)}};return Object(y.jsx)(N.Provider,{value:u,children:!i&&e.children})};function P(){var e=Object(b.useRef)(),t=Object(b.useRef)(),r=Object(b.useRef)(),c=S(),a=Object(b.useState)(""),s=Object(l.a)(a,2),u=s[0],d=s[1],f=Object(b.useState)(!1),m=Object(l.a)(f,2),v=m[0],g=m[1],w=Object(i.g)(),N=function(){var a=Object(j.a)(o.a.mark((function a(n){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),t.current.value===r.current.value){a.next=4;break}return d("Passwords do not match"),a.abrupt("return");case 4:return a.prev=4,d(""),g(!0),a.next=9,c.signUp(e.current.value,t.current.value);case 9:w("/",{replace:!0}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(4),d("Failed to create an account");case 15:g(!1);case 16:case"end":return a.stop()}}),a,null,[[4,12]])})));return function(e){return a.apply(this,arguments)}}();return Object(y.jsxs)(b.Fragment,{children:[Object(y.jsx)(O.a,{children:Object(y.jsxs)(O.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),u&&Object(y.jsx)(p.a,{variant:"danger",children:u}),Object(y.jsxs)(x.a,{onSubmit:N,children:[Object(y.jsxs)(x.a.Group,{id:"email",children:[Object(y.jsx)(x.a.Label,{children:"Email"}),Object(y.jsx)(x.a.Control,{type:"email",ref:e,required:!0})]}),Object(y.jsxs)(x.a.Group,{id:"password",children:[Object(y.jsx)(x.a.Label,{children:"Password"}),Object(y.jsx)(x.a.Control,{type:"password",ref:t,required:!0})]}),Object(y.jsxs)(x.a.Group,{id:"password-confirm",children:[Object(y.jsx)(x.a.Label,{children:"Password Confirmation"}),Object(y.jsx)(x.a.Control,{type:"password",ref:r,required:!0})]}),Object(y.jsx)(h.a,{disabled:v,style:{marginTop:"1rem"},className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(y.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(y.jsx)(n.b,{to:"/login",children:"Login"})]})]})}function U(){var e=S(),t=Object(b.useState)(""),r=Object(l.a)(t,2),c=r[0],a=r[1],s=Object(i.g)(),u=function(){var t=Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(""),t.prev=1,t.next=4,e.logout();case 4:s("/login",{replace:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a("Failed to log out");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}();return Object(y.jsxs)(b.Fragment,{children:[Object(y.jsx)(O.a,{children:Object(y.jsxs)(O.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),c&&Object(y.jsx)(p.a,{variant:"danger",children:c}),Object(y.jsx)("strong",{children:"Email:"})," ",e.currentUser.email,Object(y.jsx)(n.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(y.jsx)("div",{className:"w-100 text-center mt-2",children:Object(y.jsx)(h.a,{variant:"link",onClick:u,children:"Log Out"})})]})}function C(){var e=Object(b.useRef)(),t=Object(b.useRef)(),r=S(),c=Object(i.g)(),a=Object(b.useState)(""),s=Object(l.a)(a,2),u=s[0],d=s[1],f=Object(b.useState)(!1),m=Object(l.a)(f,2),v=m[0],g=m[1],w=function(){var a=Object(j.a)(o.a.mark((function a(n){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,d(""),g(!0),a.next=6,r.login(e.current.value,t.current.value);case 6:c("/",{replace:!0}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),d("Failed to log in");case 12:g(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}();return Object(y.jsxs)(b.Fragment,{children:[Object(y.jsx)(O.a,{children:Object(y.jsxs)(O.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),u&&Object(y.jsx)(p.a,{variant:"danger",children:u}),Object(y.jsxs)(x.a,{onSubmit:w,children:[Object(y.jsxs)(x.a.Group,{id:"email",children:[Object(y.jsx)(x.a.Label,{children:"Email"}),Object(y.jsx)(x.a.Control,{type:"email",ref:e,required:!0})]}),Object(y.jsxs)(x.a.Group,{id:"password",children:[Object(y.jsx)(x.a.Label,{children:"Password"}),Object(y.jsx)(x.a.Control,{type:"password",ref:t,required:!0})]}),Object(y.jsx)(h.a,{style:{marginTop:"1rem"},disabled:v,className:"w-100",type:"submit",children:"Log In"})]}),Object(y.jsx)("div",{className:"w-100 text-center mt-3",children:Object(y.jsx)(n.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(y.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(y.jsx)(n.b,{to:"/signup",children:"Sign Up"})]})]})}function L(){var e=S(),t=Object(b.useState)(""),r=Object(l.a)(t,2),c=r[0],a=r[1],s=Object(b.useState)(""),i=Object(l.a)(s,2),u=i[0],d=i[1],f=Object(b.useState)(!1),m=Object(l.a)(f,2),v=m[0],g=m[1],w=Object(b.useRef)(),N=function(){var t=Object(j.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,g(!0),a(""),t.next=6,e.resetPassword(w.current.value);case 6:d("Check your inbox for further instructions"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a("Failed to reset password");case 12:g(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)(b.Fragment,{children:[Object(y.jsx)(O.a,{children:Object(y.jsxs)(O.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),c&&Object(y.jsx)(p.a,{variant:"danger",children:c}),u&&Object(y.jsx)(p.a,{variant:"success",children:u}),Object(y.jsxs)(x.a,{onSubmit:N,children:[Object(y.jsxs)(x.a.Group,{id:"email",children:[Object(y.jsx)(x.a.Label,{children:"Email"}),Object(y.jsx)(x.a.Control,{type:"email",ref:w,required:!0})]}),Object(y.jsx)(h.a,{disabled:v,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(y.jsx)("div",{className:"w-100 text-center mt-3",children:Object(y.jsx)(n.b,{to:"/login",children:"Login"})})]})}),Object(y.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(y.jsx)(n.b,{to:"/signup",children:"Sign Up"})]})]})}function F(){var e=Object(i.g)(),t=Object(b.useRef)(),r=Object(b.useRef)(),c=Object(b.useRef)(),a=S(),s=Object(b.useState)(""),u=Object(l.a)(s,2),d=u[0],f=u[1],m=Object(b.useState)(!1),v=Object(l.a)(m,2),g=v[0],w=v[1],N=function(){var n=Object(j.a)(o.a.mark((function n(s){var i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),r.current.value===c.current.value){n.next=3;break}return n.abrupt("return",f("Passwords do not match"));case 3:i=[],w(!0),f(""),t.current.value!==a.currentUser.email&&i.push(a.updateEmail(t.current.value)),r.current.value&&i.push(a.updatePassword(r.current.value)),Promise.all(i).then((function(){e("/",{replace:!0})})).catch((function(){f("Failed to update account")})).finally((function(){w(!1)}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(y.jsxs)(b.Fragment,{children:[Object(y.jsx)(O.a,{children:Object(y.jsxs)(O.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),d&&Object(y.jsx)(p.a,{variant:"danger",children:d}),Object(y.jsxs)(x.a,{onSubmit:N,children:[Object(y.jsxs)(x.a.Group,{id:"email",children:[Object(y.jsx)(x.a.Label,{children:"Email"}),Object(y.jsx)(x.a.Control,{type:"email",ref:t,required:!0,defaultValue:a.currentUser.email})]}),Object(y.jsxs)(x.a.Group,{id:"password",children:[Object(y.jsx)(x.a.Label,{children:"Password"}),Object(y.jsx)(x.a.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),Object(y.jsxs)(x.a.Group,{id:"password-confirm",children:[Object(y.jsx)(x.a.Label,{children:"Password Confirmation"}),Object(y.jsx)(x.a.Control,{type:"password",ref:c,placeholder:"Leave blank to keep the same"})]}),Object(y.jsx)(h.a,{style:{marginTop:"1rem"},disabled:g,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(y.jsx)("div",{className:"w-100 text-center mt-2",children:Object(y.jsx)(n.b,{to:"/",children:"Cancel"})})]})}function R(e){var t=e.children;return S().currentUser?t:Object(y.jsx)(i.a,{to:"/login"})}var E=function(){return Object(y.jsx)(s.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(y.jsxs)(i.d,{children:[Object(y.jsx)(i.b,{path:"/",element:Object(y.jsx)(R,{children:Object(y.jsx)(U,{})})}),Object(y.jsx)(i.b,{path:"/update-profile",element:Object(y.jsx)(R,{children:Object(y.jsx)(F,{})})}),Object(y.jsx)(i.b,{path:"/signup",element:Object(y.jsx)(P,{})}),Object(y.jsx)(i.b,{path:"/login",element:Object(y.jsx)(C,{})}),Object(y.jsx)(i.b,{path:"/forgot-password",element:Object(y.jsx)(L,{})})]})})})};r(58);a.a.render(Object(y.jsx)(n.a,{children:Object(y.jsx)(k,{children:Object(y.jsx)(E,{})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.3196a25f.chunk.js.map